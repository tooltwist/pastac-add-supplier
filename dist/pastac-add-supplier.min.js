"use strict";function PastacAddSupplierController(e,l,a){function r(e,l,a,r){console.log("addSupplier()"),console.log("options: ",a);var n="//"+TEASERVICE_HOST+":"+TEASERVICE_PORT+"/v3/saveSupplier";console.log("url="+n);var t={method:"PUT",url:n,headers:{Authorization:l,"access-token":"0613952f81da9b3d0c9e4e5fab123437",version:"3.0.0"},data:a};o.inProgress=!0,e(t).then(function(e){if(o.inProgress=!1,o.errmsg=null,$("#pastac-add-supplier-modal").modal("hide"),r)return r(e.data,null)},function(e){if(o.inProgress=!1,console.log("--------------------------------"),console.log("Error calling TEAservice:"),console.log(" Url="+n),console.log(" Request=",t),console.log(" Response=",e),console.log("--------------------------------"),e.data&&e.data.code&&e.data.message)var l="Error: "+e.data.code+": "+e.data.message;else if(e.statusText)var l="Error: "+e.statusText;else var l="Error: "+e.status;if(o.errmsg=l,r)return r(null,e)})}var o=this;o.$onInit=function(){o.label=o.supplierType?o.supplierType:"Supplier",o.newDrinkmaker=function(){r(a,o.jwt,{supplierName:o.supplierName,companyName:o.supplierName,contactEmail:o.contactEmail,storeId:STORE_ID,abn:o.abn},function(e){o.handler&&o.handler.onAddSupplier?(console.log("pastac-add-supplier: calling handler.onAddSupplier("+e+")"),l(function(){o.handler.onAddSupplier(e)},1)):console.log("pastac-add-supplier: NOT calling handler.onAddSupplier (no handler)")})}}}angular.module("pastac-add-supplier",[]).component("pastacAddSupplier",{controller:PastacAddSupplierController,controllerAs:"ctrl",bindings:{handler:"<",jwt:"<",supplierType:"@",template:"@"},templateUrl:function(e,l){var a="/bower_components/pastac-add-supplier/dist/pastac-add-supplier.html";return l.template&&(a=l.template),a}});